{"version":3,"sources":["components/services/service-api.jsx","components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Picture/Picture.jsx","App.js","index.js"],"names":["getFetch","searchQuery","currentPage","pageSize","url","fetch","then","response","json","Container","children","className","Searchbar","state","search","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","onChange","autoFocus","placeholder","Component","ImageGalleryItem","image","onToggleModal","webformatURL","tags","largeImageURL","src","alt","onClick","ImageGallery","gallery","map","id","Button","loading","color","height","width","modalRoot","document","querySelector","Modal","handleKeydown","e","code","handleOverlayClose","target","window","addEventListener","removeEventListener","createPortal","Picture","largeImage","App","error","showModal","handleSearch","fetchGallery","options","hits","prevState","scroll","catch","finally","toggleModal","handleClick","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c14f063f.chunk.js","sourcesContent":["const getFetch = ({ searchQuery = '', currentPage = 1, pageSize = 8 }) => {\n  const apiKey = '20161669-2a892b4c586ef08617ab50d2d';\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${pageSize}&key=${apiKey}`;\n\n  return fetch(url).then(response => response.json());\n};\n\nexport default getFetch;\n","const Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","import { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = { search: '' };\n\n  handleChange = event => {\n    this.setState({ search: event.currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.search);\n\n    this.setState({ search: '' });\n  };\n\n  render() {\n    const { search } = this.state;\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            value={search}\n            onChange={this.handleChange}\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const ImageGalleryItem = ({ image, onToggleModal }) => {\n  const { webformatURL, tags, largeImageURL } = image;\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onToggleModal(largeImageURL)}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ gallery, onToggleModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          image={image}\n          onToggleModal={onToggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import Load from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Button = ({ onClick, loading }) => {\n  return (\n    <div className=\"Button-wrapper\">\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\n        {loading && <Load type=\"Puff\" color=\"#00BFFF\" height={24} width={24} />}\n        <span>Load more</span>\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onToggleModal();\n    }\n  };\n\n  handleOverlayClose = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onToggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={e => this.handleOverlayClose(e)}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","const Picture = ({ largeImage }) => {\n  return <img src={largeImage} alt=\"\" />;\n};\n\nexport default Picture;\n","import './styles.css';\nimport { Component } from 'react';\nimport getFetch from './components/services/service-api';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Picture from './components/Picture';\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    currentPage: 1,\n    searchQuery: '',\n    loading: false,\n    error: null,\n    showModal: false,\n    largeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchGallery();\n    }\n  }\n\n  handleSearch = search => {\n    if (search) {\n      this.setState({ searchQuery: search, currentPage: 1, gallery: [] });\n    }\n  };\n\n  fetchGallery = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({ loading: true });\n\n    getFetch(options)\n      .then(({ hits }) => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.scroll();\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleClick = url => {\n    this.toggleModal();\n    this.setState({\n      largeImage: url,\n    });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const {\n      gallery,\n      searchQuery,\n      loading,\n      error,\n      showModal,\n      largeImage,\n    } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSearch} />\n        <Container>\n          {error ? (\n            <h2>Oops! It looks like an error has occurred: {error}</h2>\n          ) : (\n            <ImageGallery gallery={gallery} onToggleModal={this.handleClick} />\n          )}\n          {searchQuery && (\n            <Button onClick={this.fetchGallery} loading={loading} />\n          )}\n          {showModal && (\n            <Modal onToggleModal={this.toggleModal}>\n              <Picture largeImage={largeImage} />\n            </Modal>\n          )}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}